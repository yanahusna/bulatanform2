<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Perentas Sama Panjang & Lengkok Sama Panjang</title>
<style>
body {
  background:#0d1b2a;color:#fff;font-family:"Arial Black",sans-serif;
  text-align:center;padding:20px;
}
canvas {
  background:#f5e6d3;
  border:4px solid #f39c12;
  border-radius:10px;
  display:block;
  margin:20px auto;
}
button {
  border:none;padding:12px 20px;
  border-radius:10px;color:#fff;
  font-weight:bold;cursor:pointer;margin:6px;
  transition:transform .2s;
}
button:hover { transform:translateY(-2px); }
#showLinesBtn { background:linear-gradient(135deg,#2980b9,#3498db); }
#showLengthBtn { background:linear-gradient(135deg,#27ae60,#2ecc71); }
#resetBtn { background:linear-gradient(135deg,#e74c3c,#c0392b); }
</style>
</head>
<body>
    <div style="margin-top:20px;">
  <button onclick="location.href='simetri-perentas-menu.html'"
  style="padding:12px 25px;border:none;border-radius:10px;
  background:linear-gradient(135deg,#8e44ad,#9b59b6);color:#fff;
  font-weight:bold;cursor:pointer;">
    ⬅️ Kembali ke Menu Utama
  </button>
   <button onclick="location.href='level1.html'"
  style="padding:12px 25px;border:none;border-radius:10px;
  background:linear-gradient(135deg,#8e44ad,#9b59b6);color:#fff;
  font-weight:bold;cursor:pointer;">
    ⬅️ Level 1
  </button>
</div>

<h1>Perentas Sama Panjang Menghasilkan Lengkok Sama Panjang</h1>
<p>Dua perentas yang sama panjang menghasilkan dua lengkok yang juga sama panjang.</p>

<canvas id="canvas" width="560" height="460"></canvas>
<div>
  <button id="showLinesBtn">Tunjuk Garis ‖</button>
  <button id="showLengthBtn">Tunjuk Panjang Sebenar</button>
  <button id="resetBtn">Reset</button>
</div>

<script>
const cvs = document.getElementById("canvas");
const ctx = cvs.getContext("2d");
const cx = cvs.width / 2, cy = cvs.height / 2;
const R = 160;
const chordLength = 180; // Panjang perentas sama

function clear(){ ctx.clearRect(0,0,cvs.width,cvs.height); }

function drawBase(){
  ctx.beginPath();
  ctx.arc(cx,cy,R,0,Math.PI*2);
  ctx.strokeStyle="#2c3e50";
  ctx.lineWidth=3;
  ctx.stroke();
}

// Lukis tanda “‖” tepat di atas garisan
function drawTwinOnLine(x, y, vx, vy, size=10){
  const nx = -vy, ny = vx;
  const len = Math.sqrt(nx*nx + ny*ny);
  const ux = nx/len, uy = ny/len;

  ctx.beginPath();
  // Garisan pertama
  ctx.moveTo(x + ux*size/2, y + uy*size/2);
  ctx.lineTo(x - ux*size/2, y - uy*size/2);
  // Garisan kedua (jarak kecil)
  ctx.moveTo(x + ux*size/2 + vx*4, y + uy*size/2 + vy*4);
  ctx.lineTo(x - ux*size/2 + vx*4, y - uy*size/2 + vy*4);
  ctx.strokeStyle="#000";
  ctx.lineWidth=2;
  ctx.stroke();
}

function drawChordAndArc(angle, chordColor, arcColor, label, showMarks=false, showLength=false){
  const halfChord = chordLength/2;
  const h = Math.sqrt(R*R - halfChord*halfChord);
  const ux = Math.cos(angle), uy = Math.sin(angle);
  const vx = -Math.sin(angle), vy = Math.cos(angle);

  // Titik tengah perentas
  const Mx = cx + ux * h, My = cy + uy * h;
  // Hujung perentas
  const Ax = Mx + vx * halfChord, Ay = My + vy * halfChord;
  const Bx = Mx - vx * halfChord, By = My - vy * halfChord;

  // Lukis perentas
  ctx.beginPath();
  ctx.moveTo(Ax,Ay);
  ctx.lineTo(Bx,By);
  ctx.strokeStyle=chordColor;
  ctx.lineWidth=4;
  ctx.stroke();

  // Lukis lengkok
  const thetaA = Math.atan2(Ay-cy,Ax-cx);
  const thetaB = Math.atan2(By-cy,Bx-cx);
  ctx.beginPath();
  ctx.arc(cx,cy,R,thetaB,thetaA,false);
  ctx.strokeStyle=arcColor;
  ctx.lineWidth=5;
  ctx.stroke();

  // Label
  ctx.font="bold 15px Arial";
  ctx.fillStyle=chordColor;
  ctx.fillText(label, Mx + 15, My + 15);

  // Satu tanda “‖” pada perentas dan lengkok
  if(showMarks){
    // Tengah perentas
    drawTwinOnLine(Mx, My, vx, vy);
    // Tengah lengkok
    const midAngle = (thetaA + thetaB)/2;
    const arcX = cx + Math.cos(midAngle)*R;
    const arcY = cy + Math.sin(midAngle)*R;
    const tx = -Math.sin(midAngle), ty = Math.cos(midAngle);
    drawTwinOnLine(arcX, arcY, tx, ty);
  }

  // Papar panjang sebenar
  if(showLength){
    const arcLength = R * Math.abs(thetaA - thetaB);
    ctx.fillStyle="#000";
    ctx.font="bold 14px Arial";
    ctx.fillText(`Perentas = ${(chordLength/20).toFixed(1)} cm`, Mx - 90, My + 35);
    ctx.fillText(`Lengkok = ${(arcLength/20).toFixed(1)} cm`, Mx - 90, My + 55);
  }
}

function drawScene(showMarks=false, showLength=false){
  clear();
  drawBase();
  const mainAngle = Math.PI/5;
  drawChordAndArc(mainAngle, "#9b59b6", "#f39c12", "Perentas 1", showMarks, showLength);
  drawChordAndArc(mainAngle + Math.PI/2, "#9b59b6", "#e67e22", "Perentas 2", showMarks, showLength);

}

// Butang
document.getElementById("showLinesBtn").onclick = ()=> drawScene(true,false);
document.getElementById("showLengthBtn").onclick = ()=> drawScene(false,true);
document.getElementById("resetBtn").onclick = ()=>{
  clear();
  drawBase();
  ctx.font="bold 16px Arial";
  ctx.fillStyle="#000";
  ctx.fillText("Tekan butang untuk mula", cx-90, cy);
};

// Lukisan awal
drawBase();
ctx.font="bold 16px Arial";
ctx.fillStyle="#000";
ctx.fillText("Tekan butang untuk mula", cx-90, cy);
</script>
</body>
</html>
