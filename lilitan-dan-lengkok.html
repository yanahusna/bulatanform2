<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pembelajaran Interaktif: Lilitan Bulatan</title>
<style>
body{
  font-family:'Arial Black',sans-serif;
  background:linear-gradient(135deg,#1a1a2e,#16213e);
  color:#fff;display:flex;align-items:center;justify-content:center;
  min-height:100vh;margin:0;padding:0;
}
.container{
  background:rgba(255,255,255,0.95);color:#000;border-radius:20px;
  padding:30px;width:min(900px,95vw);
  box-shadow:0 15px 30px rgba(0,0,0,0.3);
  text-align:center;position:relative;
}
h1{color:#f39c12;margin-bottom:10px;}
p{font-size:1.1rem;line-height:1.5;}
.canvas-wrap{position:relative;display:inline-block;}
canvas{
  width:520px;height:420px;
  background:#f5e6d3;border:3px solid #f39c12;border-radius:12px;
}
.invisible-drag{
  position:absolute;cursor:grab;opacity:0;
}
button{
  margin-top:15px;padding:12px 20px;border:none;border-radius:10px;
  color:#fff;font-weight:bold;cursor:pointer;font-size:1rem;
  background:linear-gradient(135deg,#27ae60,#2ecc71);
}
.formula{
  font-size:1.3rem;margin-top:18px;
}
.drop-box{
  display:inline-flex;align-items:center;justify-content:center;
  width:100px;height:34px;border:2px dashed #aaa;border-radius:8px;
  margin:0 6px;background:#fff;color:#2c3e50;font-weight:bold;
}
.drop-box.correct{border-color:#27ae60;background:#b8f6b8;}
.drop-box.wrong{border-color:#e74c3c;background:#f9b6b6;}
.tip{font-size:.95rem;color:#555;margin-top:6px;}
.success{color:#27ae60;font-weight:bold;margin-top:10px;}
</style>
</head>
<body>
<div class="container">
  <h1>ðŸ”µ Formula Lilitan Bulatan</h1>
  <p>Seret terus <b style="color:#27ae60">garisan jejari hijau</b> atau <b style="color:#3498db">garisan lilitan biru</b> ke kotak formula yang betul.</p>

  <div class="canvas-wrap">
    <canvas id="cv" width="520" height="420"></canvas>

    <!-- Invisible draggable layers -->
    <div id="drag-jejari" class="invisible-drag" draggable="true" style="left:340px;top:205px;width:100px;height:20px;"></div>
    <div id="drag-lilitan" class="invisible-drag" draggable="true" style="left:110px;top:90px;width:300px;height:260px;border-radius:50%;"></div>
  </div>

  <div class="formula">
    <span class="drop-box" id="drop-L"></span>
    = 2 Ã— Ï€ Ã—
    <span class="drop-box" id="drop-r"></span>
  </div>
  <div class="tip">Letakkan lilitan di kiri dan jejari di kanan.</div>
  <div id="dragResult" class="success" style="display:none;">âœ… Hebat! Padanan anda betul.</div>

  <button onclick="window.location.href='menu.html'">Kembali ke Menu Utama</button>
</div>

<script>
const cv=document.getElementById("cv");
const ctx=cv.getContext("2d");
function reset(){ctx.clearRect(0,0,cv.width,cv.height);}
function drawCircle(){
  reset();
  const cx=260, cy=210, r=110;

  // lilitan biru
  ctx.beginPath(); ctx.arc(cx,cy,r,0,Math.PI*2);
  ctx.strokeStyle="#3498db"; ctx.lineWidth=5; ctx.stroke();
  ctx.fillStyle="#000"; ctx.font="bold 16px Arial";
  ctx.fillText("Lilitan (L)",cx-60,cy-r-15);

  // jejari hijau
  ctx.beginPath(); ctx.moveTo(cx,cy); ctx.lineTo(cx+r,cy);
  ctx.strokeStyle="#27ae60"; ctx.lineWidth=5; ctx.stroke();
  ctx.fillText("Jejari r = 5 cm",cx+25,cy-10);

  // pusat
  ctx.beginPath(); ctx.arc(cx,cy,4,0,Math.PI*2);
  ctx.fillStyle="#2c3e50"; ctx.fill();
}
drawCircle();

// Drag logic
const dragJejari=document.getElementById('drag-jejari');
const dragLilitan=document.getElementById('drag-lilitan');
const dropL=document.getElementById('drop-L');
const dropR=document.getElementById('drop-r');
const result=document.getElementById('dragResult');

// Assign drag type
dragJejari.addEventListener('dragstart',e=>{
  e.dataTransfer.setData('text/plain','jejari');
});
dragLilitan.addEventListener('dragstart',e=>{
  e.dataTransfer.setData('text/plain','lilitan');
});

// drop handlers
[dropL,dropR].forEach(box=>{
  box.addEventListener('dragover',e=>e.preventDefault());
  box.addEventListener('drop',e=>{
    e.preventDefault();
    const type=e.dataTransfer.getData('text/plain');
    const correct=(box.id==='drop-L'&&type==='lilitan')||(box.id==='drop-r'&&type==='jejari');
    if(correct){
      box.classList.add('correct');
      box.textContent=(type==='lilitan')?'L':'r';
      if(dropL.textContent==='L'&&dropR.textContent==='r'){
        result.style.display='block';
      }
    }else{
      box.classList.add('wrong');
      box.textContent='âœ–';
      setTimeout(()=>{box.classList.remove('wrong');box.textContent='';},800);
    }
  });
});
</script>
</body>
</html>
